---
import Main from "../layouts/Main.astro";
import Cards from "../components/Cards.astro"
const profilePicture = "https://gitlab.com/uploads/-/system/user/avatar/8472627/avatar.png?width=800";

import BaseLayout from '../layouts/BaseLayoutForHome.astro';
const allPosts = await Astro.glob('./posts/*.md');
const tags = [
  ...new Set(allPosts.flatMap((post) => {
    const tags = post.frontmatter.tags;
    if (typeof tags === 'string') {
      return tags.split(',').map(tag => tag.trim());
    } else if (Array.isArray(tags)) {
      return tags.map(tag => tag.trim());
    } else {
      return [];
    }
  })),
];
const categories = [
  ...new Set(allPosts.map((post) => post.frontmatter.category).filter(Boolean)),
];
---

<Main title="krafi.info">
	<body>  
		<div class="profile">
			<img alt="Profile Picture" width="100px" height="100px" class="profile_pic" src={profilePicture}/>
			<div class="profile__details">
				<h1>Kazi ar rafi</h1>
				<h2>The Owner of this website.</h2>
				<p>abcdefg</p>
			</div>
		</div>	



		<BaseLayout>
			<div class="category-list">
			  <h3>Categories</h3>
			  <ul>
				{
				  categories.map((category) => (
					<li>
					  <a class="category" href={`/categories/${category}`}>{category}</a>
					</li>
				  ))
				}
			  </ul>
			</div>
		  </BaseLayout>
		  

<BaseLayout pageTitle={""}>
  <div class="tag-list">
    <h3>Tags</h3>
    <ul>
      {
        tags.map((tag) => (
          <li class="tag">
            <a href={`/tags/${tag}`}>{tag}</a>
          </li>
        )) 
      }
    </ul>
  </div>
</BaseLayout>





		<Cards cards={[
		{
			title: "titlethis is",
			gradientFrom: "#818cf8",
			gradientTo: "#d8b4fe",
			to: "/a",
		},
		{
		title: "titlethis is555555555555",
		gradientFrom: "#fde68a",
		gradientTo: "#fca5a5",
		to: "/a",
		},
		{
		title: "titlethis is888888888888",
		gradientFrom: "#6ee7b7",
		gradientTo: "#9333ea",
		to: "/a",
		},
		]}
	/>
	</body>
	</html>
</Main>

<style>
	.profile {
		display: flex;
		align-items: flex-start;
		flex-wrap: wrap;
		padding: 1rem 0 3rem 0;
	}
	.profile__details {
		flex: 1 0 300px;
	}
	.profile__details > h1 {
		margin-top: 0;
	}
	.profile_pic {
		border-radius: 50%;
		margin: 0 2rem 1rem 0;
	}
</style>
